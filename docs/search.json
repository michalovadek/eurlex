[{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"eurlex: Retrieve data on European Union law in R","text":"Dozens political scientists legal scholars use data European Union laws research. provenance data rarely discussed. often , researchers resort quick dirty technique scraping entire html pages eur-lex.europa.eu. optimal, preferred (perspective server host) approach retrieving data, however, especially Publication Office European Union, public body behind Eur-Lex, operates several dedicated APIs automated retrieval data. allure web scraping completely understandable. easier download data can readily seen user-friendly manner browser, using dedicated APIs requires technical knowledge semantic web Client URL technologies, necessarily widespread among researchers. go pain learning compile SPARQL queries much easier simply download web page? eurlex R package attempts significantly reduce overhead associated using SPARQL REST APIs made available EU Publication Office. Although present offer access array information comprehensive web scraping might, package provides simpler, efficient transparent access data European Union law. vignette gives quick guide package even quicker introduction Eur-Lex dataverse.","code":""},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"the-eurlex-package","dir":"Articles","previous_headings":"","what":"The eurlex package","title":"eurlex: Retrieve data on European Union law in R","text":"eurlex package currently envisions typical use-case consist getting bulk information EU law policy R fast possible. package contains three core functions achieve objective: elx_make_query() create SPARQL queries based user input; elx_run_query() execute pre-made manually input query; elx_fetch_data() fire GET requests certain metadata REST API. package also contains largely self-explanatory functions retrieving data EU court cases (elx_curia_list()) Council votes (elx_council_votes(), currently dysfunctional) outside Eur-Lex. advanced users might interested downloading custom-parsing XML notices elx_download_xml().","code":""},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"elx_make_query-generate-sparql-queries","dir":"Articles","previous_headings":"The eurlex package","what":"elx_make_query(): Generate SPARQL queries","title":"eurlex: Retrieve data on European Union law in R","text":"function elx_make_query takes first argument type resource retrieved semantic database powers Eur-Lex (publications) called Cellar. Currently, possible choose among host resource types, including directives, regulations even case law (see function description full list). also possible manually specify resource type eligible list.1 choice resource type reflected SPARQL query generated function: various ways querying information Cellar database due existence several overlapping classes identifiers describing resources. queries generated function offer reliable way obtaining exhaustive results, validated helpdesk Publication Office. time, always possible issues either query database side; please report encounter Github. arguments elx_make_query() relate additional metadata returned. results include default CELEX number exclude corrigenda (corrections errors legislation). data needs opted . Make sure select ones logically compatible (e.g. case law legal basis). options added future. Note availability data variable might impact results. data frame returned query might shrunken size variable missing data. recommended always compare results desired query minimal query requesting celex ids. can also decide specify resource types, case types documents returned. million documents CELEX identifier, likely efficient majority users. since version 0.3.5 possible request documents belonging particular “sector” directory code. Now query, ready run .","code":"library(eurlex) library(dplyr)  query_dir <- elx_make_query(resource_type = \"directive\") query_dir %>%    cat()  elx_make_query(resource_type = \"caselaw\") %>%    cat()  elx_make_query(resource_type = \"manual\", manual_type = \"SWD\") %>%    cat() # minimal query: elx_make_query(resource_type = \"directive\") elx_make_query(resource_type = \"directive\", include_date = TRUE, include_force = TRUE) %>%    cat()  # minimal query: elx_make_query(resource_type = \"recommendation\") elx_make_query(resource_type = \"recommendation\", include_date = TRUE, include_lbs = TRUE) %>%    cat() # request documents from directory 18 (\"Common Foreign and Security Policy\") # and sector 3 (\"Legal acts\")  elx_make_query(resource_type = \"any\",                directory = \"18\",                sector = 3) %>%    cat()"},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"elx_run_query-execute-sparql-queries","dir":"Articles","previous_headings":"The eurlex package","what":"elx_run_query(): Execute SPARQL queries","title":"eurlex: Retrieve data on European Union law in R","text":"elx_run_query() sends SPARQL queries pre-specified endpoint. function takes query string main argument, means can manually pass working SPARQL query (relevant official EU publications). function outputs data.frame column corresponds one requested variables, rows accumulate observations resource type satisfying query criteria. Obviously, data returned, longer execution time, varying seconds several minutes, depending also connection. first column always contains unique URI “work” (legislative act court judgment) identifies resource Cellar. Several human-readable identifiers normally associated “work” useful one CELEX, retrieved default.2 One column always pay attention type (resource_type). URIs contained reflect FILTER argument SPARQL query, manually pre-specified. resources indexed one type another. example, retrieving directives, results going return also delegated directives, might desirable, depending needs. can filter results type make necessary adjustments. queries expansive default spirit erring side -inclusiveness rather vice versa. data returned long format, means rows recycled length variable data points. example, 20 directives returned, two legal bases, resulting data.frame 40 rows. variables, dates, contain unexpectedly several entries documents. always check number unique identifiers results instead assuming row unique observation.","code":"results <- elx_run_query(query = query_dir)  # the functions are compatible with piping #  # elx_make_query(\"directive\") %>%  #   elx_run_query() head(results) head(results$type,5)  results %>%    distinct(type)"},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"eurovoc-descriptors","dir":"Articles","previous_headings":"The eurlex package > elx_run_query(): Execute SPARQL queries","what":"EuroVoc descriptors","title":"eurlex: Retrieve data on European Union law in R","text":"EuroVoc multilingual thesaurus, keywords used describe content European Union documents. resource types can retrieved pre-defined queries package can accompanied EuroVoc keywords can retrieved variables. default, endpoint returns EuroVoc concept codes rather labels (keywords). function elx_label_eurovoc() needs called obtain look-table labels. results include labels unique identifiers, dplyr::left_join() straightforward append labels entire dataset. elsewhere API, can tap multilingual nature EU documents also comes EuroVoc keywords. Moreover, concepts thesaurus associated alternative labels; can returned well (separated comma).","code":"rec_eurovoc <- elx_make_query(\"recommendation\", include_eurovoc = TRUE, limit = 10) %>%    elx_run_query() # truncated results for sake of the example  rec_eurovoc %>%    select(celex, eurovoc) eurovoc_lookup <- elx_label_eurovoc(uri_eurovoc = rec_eurovoc$eurovoc)  print(eurovoc_lookup) rec_eurovoc %>%    left_join(eurovoc_lookup) eurovoc_lookup <- elx_label_eurovoc(uri_eurovoc = rec_eurovoc$eurovoc,                                     alt_labels = TRUE,                                     language = \"sk\")  rec_eurovoc %>%    left_join(eurovoc_lookup) %>%    select(celex, eurovoc, labels)"},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"elx_fetch_data-fire-get-requests","dir":"Articles","previous_headings":"The eurlex package","what":"elx_fetch_data(): Fire GET requests","title":"eurlex: Retrieve data on European Union law in R","text":"core contribution SPARQL requests obtain comprehensive list identifiers can subsequently use obtain data relating document question. results SPARQL queries useful also webscraping (rvest package), function elx_fetch_data() enables us fire GET requests retrieve data documents known identifiers (including Cellar URI). One sought-data Eur-Lex dataverse text. possible now automate pipeline downloading html plain texts Eur-Lex. Similarly, can retrieve title document. can specify also desired language (English default). metadata might added future. Note text requests far time-intensive; requesting full text thousands documents liable extend run-time hours. Texts retrieved html priority, methods .pdfs .docs also implemented.3 function even handles multi-document resources (pasting together).","code":"# the function is not vectorized by default # elx_fetch_data(url = results$work[1], type = \"title\")  # we can use purrr::map() to play that role library(purrr)  # wrapping in possibly() would catch errors in case there is a server issue dir_titles <- results[1:5,] %>% # take the first 5 directives only to save time   mutate(work = paste(\"http://publications.europa.eu/resource/cellar/\", work, sep = \"\")) |>   mutate(title = map_chr(work, possibly(elx_fetch_data, otherwise = NA_character_),                          \"title\")) %>%   select(celex, title)  print(dir_titles)"},{"path":"https://michalovadek.github.io/eurlex/articles/eurlexpkg.html","id":"application","dir":"Articles","previous_headings":"","what":"Application","title":"eurlex: Retrieve data on European Union law in R","text":"section showcase simple application eurlex making overviews EU legislation. First, collate data directives. Let’s calculate proportion directives currently force entire set directives ever adopted. variable offers particularly good demonstration usefulness package retrieve EU law data, changes every day, new acts enter force old ones drop . Regularly scraping webpages purpose scale simply impractical disproportional. Directives become naturally outdated time. might interesting see older acts thus still surviving. want know bit directives early 1970s still force today. titles give us clue. use tidytext package get quick idea legislation visualizing distinctive words titles. use term-frequency inverse-document frequency (tf-idf) weight importance words. -weights common words like “” “” convey little meaning, highlighting instead distinctive terms. extremely basic application eurlex package. Much sophisticated methods can used analyse content metadata European Union legislation. package useful research, please cite accompanying paper.4","code":"dirs <- elx_make_query(resource_type = \"directive\", include_date = TRUE, include_force = TRUE) %>%    elx_run_query() library(ggplot2)  dirs %>%    count(force) %>%    ggplot(aes(x = force, y = n)) +   geom_col() dirs %>%    filter(!is.na(force)) %>%    mutate(date = as.Date(date)) %>%    ggplot(aes(x = date, y = celex)) +   geom_point(aes(color = force), alpha = 0.1) +   theme(axis.text.y = element_blank(),         axis.line.y = element_blank(),         axis.ticks.y = element_blank()) dirs_1970_title <- dirs %>%    filter(between(as.Date(date), as.Date(\"1970-01-01\"), as.Date(\"1973-01-01\")),          force == \"true\") %>%   mutate(work = paste(\"http://publications.europa.eu/resource/cellar/\", work, sep = \"\")) |>   mutate(title = map_chr(work, possibly(elx_fetch_data, otherwise = NA_character_),                          \"title\"))  print(dirs_1970_title) library(tidytext)  # calculate tf-idf and plot top words dirs_1970_title %>%   select(celex, title) %>%   unnest_tokens(word, title) %>%   count(celex, word, sort = TRUE) %>%   filter(!grepl(\"\\\\d\", word)) %>%   bind_tf_idf(word, celex, n) %>%   slice_max(tf_idf, n = 15) %>%   ggplot(aes(x = reorder(word, tf_idf), y = tf_idf)) +   geom_col() +   coord_flip() +   labs(x = NULL, y = \"TF-IDF\", title = \"Top words in directive titles (1970-1973)\")"},{"path":"https://michalovadek.github.io/eurlex/articles/sparql-queries.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Make SPARQL queries with eurlex","text":"Dozens political scientists legal scholars use data European Union laws research. provenance data rarely discussed. often , researchers resort quick dirty technique scraping entire html pages eur-lex.europa.eu. optimal, preferred (perspective server host) approach retrieving data, however, especially Publication Office European Union, public body behind Eur-Lex, operates several dedicated APIs automated retrieval data. allure web scraping completely understandable. easier download data can readily seen user-friendly manner browser, using dedicated APIs requires technical knowledge semantic web Client URL technologies, necessarily widespread among researchers. go pain learning compile SPARQL queries much easier simply download web page? eurlex R package attempts significantly reduce overhead associated using SPARQL REST APIs made available EU Publication Office. Although present offer access array information comprehensive web scraping might, package provides simpler, efficient transparent access data European Union law. vignette gives quick guide package even quicker introduction Eur-Lex dataverse.","code":""},{"path":"https://michalovadek.github.io/eurlex/articles/sparql-queries.html","id":"the-eurlex-package","dir":"Articles","previous_headings":"","what":"The eurlex package","title":"Make SPARQL queries with eurlex","text":"eurlex package currently envisions typical use-case consist getting bulk information EU law policy R fast possible. package contains three core functions achieve objective: elx_make_query() create SPARQL queries based user input; elx_run_query() execute pre-made manually input query; elx_fetch_data() fire GET requests certain metadata REST API. package also contains largely self-explanatory functions retrieving data EU court cases (elx_curia_list()) Council votes (elx_council_votes(), currently dysfunctional) outside Eur-Lex. advanced users might interested downloading custom-parsing XML notices elx_download_xml().","code":""},{"path":"https://michalovadek.github.io/eurlex/articles/sparql-queries.html","id":"elx_make_query-generate-sparql-queries","dir":"Articles","previous_headings":"The eurlex package","what":"elx_make_query(): Generate SPARQL queries","title":"Make SPARQL queries with eurlex","text":"function elx_make_query takes first argument type resource retrieved semantic database powers Eur-Lex (publications) called Cellar. Currently, possible choose among host resource types, including directives, regulations even case law (see function description full list). also possible manually specify resource type eligible list.1 choice resource type reflected SPARQL query generated function: various ways querying information Cellar database due existence several overlapping classes identifiers describing resources. queries generated function offer reliable way obtaining exhaustive results, validated helpdesk Publication Office. time, always possible issues either query database side; please report encounter Github. arguments elx_make_query() relate additional metadata returned. results include default CELEX number exclude corrigenda (corrections errors legislation). data needs opted . Make sure select ones logically compatible (e.g. case law legal basis). options added future. Note availability data variable might impact results. data frame returned query might shrunken size variable missing data. recommended always compare results desired query minimal query requesting celex ids. can also decide specify resource types, case types documents returned. million documents CELEX identifier, likely efficient majority users. since version 0.3.5 possible request documents belonging particular “sector” directory code.","code":"library(eurlex) library(dplyr)  query_dir <- elx_make_query(resource_type = \"directive\") query_dir %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/DIR>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_IMPL>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_DEL>)  #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }  elx_make_query(resource_type = \"caselaw\") %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/JUDG>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/ORDER>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/OPIN_JUR>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/THIRDPARTY_PROCEED>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/GARNISHEE_ORDER>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/RULING>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/JUDG_EXTRACT>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/INFO_JUDICIAL>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/VIEW_AG>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/OPIN_AG>)  #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }  elx_make_query(resource_type = \"manual\", manual_type = \"SWD\") %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex where{ ?work cdm:work_has_resource-type ?type.FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/SWD>)  #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. } # minimal query: elx_make_query(resource_type = \"directive\") elx_make_query(resource_type = \"directive\", include_date = TRUE, include_force = TRUE) %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex ?date ?force where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/DIR>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_IMPL>|| #>   ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_DEL>)  #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} OPTIONAL{?work cdm:work_date_document ?date.} OPTIONAL{?work cdm:resource_legal_in-force ?force.} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }  # minimal query: elx_make_query(resource_type = \"recommendation\") elx_make_query(resource_type = \"recommendation\", include_date = TRUE, include_lbs = TRUE) %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex ?date ?lbs ?lbcelex ?lbsuffix where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/RECO>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_DEC>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_DIR>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_OPIN>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_RES>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_REG>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_RECO>|| #>                    ?type=<http://publications.europa.eu/resource/authority/resource-type/RECO_DRAFT>)  #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} OPTIONAL{?work cdm:work_date_document ?date.} OPTIONAL{?work cdm:resource_legal_based_on_resource_legal ?lbs. #>     ?lbs cdm:resource_legal_id_celex ?lbcelex. #>     OPTIONAL{?bn owl:annotatedSource ?work. #>     ?bn owl:annotatedProperty <http://publications.europa.eu/ontology/cdm#resource_legal_based_on_resource_legal>. #>     ?bn owl:annotatedTarget ?lbs. #>     ?bn annot:comment_on_legal_basis ?lbsuffix}} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. } # request documents from directory 18 (\"Common Foreign and Security Policy\") # and sector 3 (\"Legal acts\") elx_make_query(resource_type = \"any\",                directory = \"18\",                sector = 3) %>%    cat() #> PREFIX cdm: <http://publications.europa.eu/ontology/cdm#> #>   PREFIX annot: <http://publications.europa.eu/ontology/annotation#> #>   PREFIX skos:<http://www.w3.org/2004/02/skos/core#> #>   PREFIX dc:<http://purl.org/dc/elements/1.1/> #>   PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> #>   PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> #>   PREFIX owl:<http://www.w3.org/2002/07/owl#> #>   select distinct ?work ?type ?celex where{ #>     VALUES (?value) #>     { (<http://publications.europa.eu/resource/authority/fd_555/18>) #>       (<http://publications.europa.eu/resource/authority/dir-eu-legal-act/18>) #>     } #>     {?work cdm:resource_legal_is_about_concept_directory-code ?value. #>     } #>     UNION #>     {?work cdm:resource_legal_is_about_concept_directory-code ?directory. #>       ?value skos:narrower+ ?directory. #>     } #>      #>     ?work cdm:resource_legal_id_sector ?sector. #>     FILTER(str(?sector)='3') #>       #>  FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \"true\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }"},{"path":"https://michalovadek.github.io/eurlex/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michal Ovadek. Author, maintainer, copyright holder.","code":""},{"path":"https://michalovadek.github.io/eurlex/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ovadek M (2021). “Facilitating access data European Union laws.” Political Research Exchange, 3(1), 1870150. doi:10.1080/2474736X.2020.1870150.","code":"@Article{eurlex-package,   title = {Facilitating access to data on European Union laws},   author = {Michal Ovadek},   year = {2021},   journal = {Political Research Exchange},   volume = {3},   number = {1},   pages = {1870150},   doi = {10.1080/2474736X.2020.1870150},   publisher = {Taylor & Francis}, }"},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"eurlex-retrieve-data-on-european-union-law-","dir":"","previous_headings":"","what":"Retrieve Data on European Union Law","title":"Retrieve Data on European Union Law","text":"eurlex R package reduces overhead associated using SPARQL REST APIs made available EU Publication Office EU institutions. Compared pure web-scraping, package provides efficient transparent access data European Union laws policies. See vignette basic walkthrough use package. Check function documentation --date overview features. Example use cases shown paper. can use eurlex create automatically updated overviews EU decision-making activity, shown .","code":""},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Retrieve Data on European Union Law","text":"Install CRAN via install.packages(\"eurlex\"). development version available via remotes::install_github(\"michalovadek/eurlex\").","code":""},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"cite","dir":"","previous_headings":"","what":"Cite","title":"Retrieve Data on European Union Law","text":"Michal Ovádek (2021) Facilitating access data European Union laws, Political Research Exchange, 3:1, DOI: 10.1080/2474736X.2020.1870150","code":"@article{ovadek2021facilitating,   author       = {Ovádek, Michal},   title        = {Facilitating access to data on European Union laws},   year         = {2021},   journal      = {Political Research Exchange},   volume       = {3},   number       = {1},   pages        = {Article No. 1870150},   url          = {https://doi.org/10.1080/2474736X.2020.1870150} }"},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"basic-usage","dir":"","previous_headings":"","what":"Basic usage","title":"Retrieve Data on European Union Law","text":"eurlex package currently envisions typical use-case consist getting bulk information EU legislation R fast possible. package contains three core functions achieve objective: elx_make_query() create pre-defined customized SPARQL queries; elx_run_query() execute pre-made manually input query; elx_fetch_data() fire GET requests certain metadata REST API. function elx_make_query takes first argument type resource retrieved (“directive” “”) semantic database powers Eur-Lex (publications) called Cellar. familiar SPARQL, can always specify queries execute elx_run_query(). elx_run_query() executes SPARQL queries pre-specified endpoint EU Publication Office. outputs data.frame column corresponds one requested variables, rows accumulate observations resource type satisfying query criteria. Obviously, data returned, longer execution time, varying seconds several hours, depending also connection. first column always contains unique URI “work” (usually legislative act court judgment) identifies resource Cellar. Several human-readable identifiers normally associated “work” useful one tends CELEX, retrieved default. One useful things API obtain comprehensive list identifiers can subsequently use obtain data relating document question. results SPARQL queries can also useful web-scraping, function elx_fetch_data() makes possible fire GET requests retrieve data documents known identifiers (including Cellar URI). function example enables downloading title full text document available languages.","code":"# load library library(eurlex)  # create query query <- elx_make_query(\"directive\", include_date_transpos = TRUE)  # execute query results <- elx_run_query(query)"},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"note","dir":"","previous_headings":"","what":"Note","title":"Retrieve Data on European Union Law","text":"package author way affiliated EU, institutions, offices agencies. Please refer applicable data reuse policies. Please consider contributing maintenance development package reporting bugs suggesting new features.","code":""},{"path":"https://michalovadek.github.io/eurlex/index.html","id":"useful-resources","dir":"","previous_headings":"","what":"Useful resources","title":"Retrieve Data on European Union Law","text":"Guide CELEX numbers: https://eur-lex.europa.eu/content/tools/TableOfSectors/types_of_documents_in_eurlex.html List resource types Cellar (NAL): http://publications.europa.eu/resource/authority/resource-type NAL corporate bodies: http://publications.europa.eu/resource/authority/corporate-body Query builder: https://op.europa.eu/en/advanced-sparql-query-editor Common data model: https://op.europa.eu/en/web/eu-vocabularies/dataset/-/resource?uri=http://publications.europa.eu/resource/dataset/cdm SPARQL endpoint: http://publications.europa.eu/webapi/rdf/sparql","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_curia_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Scrape list of court cases from Curia — elx_curia_list","title":"Scrape list of court cases from Curia — elx_curia_list","text":"Harvests data lists EU court cases curia.europa.eu. CELEX identifiers extracted hyperlinks available.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_curia_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scrape list of court cases from Curia — elx_curia_list","text":"","code":"elx_curia_list(   data = c(\"all\", \"ecj_old\", \"ecj_new\", \"gc_all\", \"cst_all\"),   parse = TRUE )"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_curia_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scrape list of court cases from Curia — elx_curia_list","text":"data Data scraped four separate lists cases maintained Curia, defaults \"\" contains cases Court Justice, General Court Civil Service Tribunal. parse TRUE, references cases appeals parsed case_info separate columns","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_curia_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scrape list of court cases from Curia — elx_curia_list","text":"data frame containing case identifiers information character columns. case id contains hyperlink Eur-Lex, CELEX identifier retrieved well. Hyperlinks Eur-Lex disappeared recent cases.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_curia_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scrape list of court cases from Curia — elx_curia_list","text":"","code":"# \\donttest{ elx_curia_list(data = \"cst_all\", parse = FALSE) #> # A tibble: 1,762 × 3 #>    case_id    case_id_celex case_info                                            #>    <chr>      <chr>         <chr>                                                #>  1 F-1/05 *   NA            Judgment of 26 October 2006, Landgren / ETF (F-1/05… #>  2 F-1/05     NA            Order of 22 May 2007, Landgren / ETF (F-1/05, ECR-S… #>  3 F-1/05 INT NA            Order of 13 July 2007, Landgren / ETF (F-1/05 INT, … #>  4 F-1/05     NA            Order of 9 November 2010, Landgren / ETF (F-1/05, u… #>  5 F-2/05     NA            Removed from the register on 18 June 2008, Kröppeli… #>  6 F-3/05     NA            Order of 15 May 2006, Schmit / Commission (F-3/05, … #>  7 F-4/05     NA            Removed from the register on 18 June 2008, Huober /… #>  8 F-5/05 *   NA            Judgment of 28 April 2009, Violetti and others / Co… #>  9 F-6/05     NA            Removed from the register on 18 June 2008, Kröppeli… #> 10 F-7/05     NA            Schmit / Commission (F-7/05) , see Case  F-5/05      #> # ℹ 1,752 more rows # }"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":null,"dir":"Reference","previous_headings":"","what":"Download XML notice associated with a URL — elx_download_xml","title":"Download XML notice associated with a URL — elx_download_xml","text":"Downloads XML notice given type associated Cellar resource.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download XML notice associated with a URL — elx_download_xml","text":"","code":"elx_download_xml(   url,   file = paste(basename(url), \".xml\", sep = \"\"),   notice = c(\"tree\", \"branch\", \"object\"),   language_1 = \"en\",   language_2 = \"fr\",   language_3 = \"de\",   mode = \"wb\" )"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download XML notice associated with a URL — elx_download_xml","text":"url valid url character vector length one based resource identifier CELEX Cellar URI. file character string name downloaded file saved. notice type notice requested controls kind metadata returned. language_1 priority language data attempted retrieved, ISO 639 2-char code language_2 data available language_1, try language_2 language_3 data available language_2, try language_3 mode character string specifying mode write file. Useful values \"w\", \"wb\" (binary), \"\" (append) \"ab\".","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download XML notice associated with a URL — elx_download_xml","text":"Path downloaded file (invisibly) server validates request (http status code 200). information notices, see Cellar documentation.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download XML notice associated with a URL — elx_download_xml","text":"retrieve identifiers associated url, use elx_fetch_data(type = \"ids\").","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_download_xml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download XML notice associated with a URL — elx_download_xml","text":"","code":"# \\donttest{ temploc <- file.path(tempdir(), \"elxnotice.xml\") elx_download_xml(url = \"http://publications.europa.eu/resource/celex/32022D0154\",  file = temploc, notice = \"object\") unlink(temploc) # }"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_fetch_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve additional data on EU documents — elx_fetch_data","title":"Retrieve additional data on EU documents — elx_fetch_data","text":"Get titles, texts, identifiers XML notices EU resources.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_fetch_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve additional data on EU documents — elx_fetch_data","text":"","code":"elx_fetch_data(   url,   type = c(\"title\", \"text\", \"ids\", \"notice\"),   notice = c(\"tree\", \"branch\", \"object\"),   language_1 = \"en\",   language_2 = \"fr\",   language_3 = \"de\",   include_breaks = TRUE,   html_text = c(\"text2\", \"text\") )"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_fetch_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve additional data on EU documents — elx_fetch_data","text":"url valid url character vector length one based resource identifier CELEX Cellar URI. type type data retrieved. type = \"text\", returned list contains named elements reflecting source text. type = \"notice\", results return XML notice associated url. notice type = \"notice\", controls kind metadata returned notice. language_1 priority language data attempted retrieved, ISO 639 2-char code language_2 data available language_1, try language_2 language_3 data available language_2, try language_3 include_breaks TRUE, text includes tags showing pages (\"—pagebreak—\", pdfs) documents (\"—documentbreak—\") concatenated html_text Choose whether read text html using rvest::html_text2() (\"text2\") rvest::html_text() (\"text\")","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_fetch_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve additional data on EU documents — elx_fetch_data","text":"character vector length one containing result. type = \"text\", named character vector name contains source text.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_fetch_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve additional data on EU documents — elx_fetch_data","text":"","code":"# \\donttest{ elx_fetch_data(url = \"http://publications.europa.eu/resource/celex/32014R0001\", type = \"title\") #> [1] \"Commission Delegated Regulation (EU) No 1/2014 of 28 August 2013 establishing Annex III to Regulation (EU) No 978/2012 of the European Parliament and of the Council applying a scheme of generalised tariff preferences\" # }"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_label_eurovoc.html","id":null,"dir":"Reference","previous_headings":"","what":"Label EuroVoc concepts — elx_label_eurovoc","title":"Label EuroVoc concepts — elx_label_eurovoc","text":"Create look-table labels EuroVoc concept URIs. unique identifiers returned.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_label_eurovoc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label EuroVoc concepts — elx_label_eurovoc","text":"","code":"elx_label_eurovoc(uri_eurovoc = \"\", alt_labels = FALSE, language = \"en\")"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_label_eurovoc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label EuroVoc concepts — elx_label_eurovoc","text":"uri_eurovoc Character vector valid EuroVoc URIs alt_labels TRUE, results include comma-separated alternative labels addition preferred label language Language return labels, ISO 639 2-char code","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_label_eurovoc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Label EuroVoc concepts — elx_label_eurovoc","text":"data frame containing EuroVoc unique concept identifiers labels.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_label_eurovoc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label EuroVoc concepts — elx_label_eurovoc","text":"","code":"# \\donttest{ elx_label_eurovoc(uri_eurovoc = \"http://eurovoc.europa.eu/5760\", language = \"fr\") #> # A tibble: 1 × 2 #>   eurovoc                       labels #>   <chr>                         <chr>  #> 1 http://eurovoc.europa.eu/5760 oiseau # }"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_make_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Create SPARQL queries — elx_make_query","title":"Create SPARQL queries — elx_make_query","text":"Generates pre-defined manual SPARQL queries retrieve document ids Cellar. List available resource types: http://publications.europa.eu/resource/authority/resource-type . Note resource types compatible default parameter values.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_make_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create SPARQL queries — elx_make_query","text":"","code":"elx_make_query(   resource_type = c(\"any\", \"directive\", \"regulation\", \"decision\", \"recommendation\",     \"intagr\", \"caselaw\", \"manual\", \"proposal\", \"national_impl\"),   manual_type = \"\",   directory = NULL,   sector = NULL,   include_corrigenda = FALSE,   include_celex = TRUE,   include_lbs = FALSE,   include_date = FALSE,   include_date_force = FALSE,   include_date_endvalid = FALSE,   include_date_transpos = FALSE,   include_date_lodged = FALSE,   include_force = FALSE,   include_eurovoc = FALSE,   include_citations = FALSE,   include_citations_detailed = FALSE,   include_author = FALSE,   include_directory = FALSE,   include_directory_code = FALSE,   include_sector = FALSE,   include_ecli = FALSE,   include_court_procedure = FALSE,   include_judge_rapporteur = FALSE,   include_advocate_general = FALSE,   include_court_formation = FALSE,   include_court_scholarship = FALSE,   include_court_origin = FALSE,   include_original_language = FALSE,   include_proposal = FALSE,   order = FALSE,   limit = NULL )"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_make_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create SPARQL queries — elx_make_query","text":"resource_type Type resource retrieved via SPARQL query manual_type Define manually type resource retrieved directory Restrict results given directory code sector Restrict results given sector code include_corrigenda TRUE, results include corrigenda include_celex TRUE, results include CELEX identifier resource URI include_lbs TRUE, results include legal bases legislation include_date TRUE, results include document date include_date_force TRUE, results include date entry force include_date_endvalid TRUE, results include date end validity include_date_transpos TRUE, results include date transposition deadline directives include_date_lodged TRUE, results include date court case lodged court include_force TRUE, results include whether legislation force include_eurovoc TRUE, results include EuroVoc descriptors subject matter include_citations TRUE, results include citations (CELEX-labelled) include_citations_detailed TRUE, results include citations (CELEX-labelled) additional details include_author TRUE, results include document author(s) include_directory TRUE, results include label Eur-Lex directory code include_directory_code TRUE, results include Eur-Lex directory code include_sector TRUE, results include Eur-Lex sector code include_ecli TRUE, results include ECLI identifier court documents include_court_procedure TRUE, results include type court procedure outcome include_judge_rapporteur TRUE, results include Judge-Rapporteur include_advocate_general TRUE, results include Advocate General include_court_formation TRUE, results include court formation include_court_scholarship TRUE, results include court-curated relevant scholarship include_court_origin TRUE, results include country origin court case include_original_language TRUE, results include authentic language document (usually case) include_proposal TRUE, results include CELEX proposal adopted legal act order Order results ids limit Limit number results, testing purposes mainly","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_make_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create SPARQL queries — elx_make_query","text":"character string containing SPARQL query","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_make_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create SPARQL queries — elx_make_query","text":"","code":"elx_make_query(resource_type = \"directive\", include_date = TRUE, include_force = TRUE) #> [1] \"PREFIX cdm: <http://publications.europa.eu/ontology/cdm#>\\n  PREFIX annot: <http://publications.europa.eu/ontology/annotation#>\\n  PREFIX skos:<http://www.w3.org/2004/02/skos/core#>\\n  PREFIX dc:<http://purl.org/dc/elements/1.1/>\\n  PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\\n  PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n  PREFIX owl:<http://www.w3.org/2002/07/owl#>\\n  select distinct ?work ?type ?celex ?date ?force where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/DIR>||\\n  ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_IMPL>||\\n  ?type=<http://publications.europa.eu/resource/authority/resource-type/DIR_DEL>) \\n FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} OPTIONAL{?work cdm:work_date_document ?date.} OPTIONAL{?work cdm:resource_legal_in-force ?force.} FILTER not exists{?work cdm:do_not_index \\\"true\\\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }\" elx_make_query(resource_type = \"regulation\", include_corrigenda = TRUE, order = TRUE) #> [1] \"PREFIX cdm: <http://publications.europa.eu/ontology/cdm#>\\n  PREFIX annot: <http://publications.europa.eu/ontology/annotation#>\\n  PREFIX skos:<http://www.w3.org/2004/02/skos/core#>\\n  PREFIX dc:<http://purl.org/dc/elements/1.1/>\\n  PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\\n  PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n  PREFIX owl:<http://www.w3.org/2002/07/owl#>\\n  select distinct ?work ?type ?celex where{ ?work cdm:work_has_resource-type ?type. FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/REG>||\\n  ?type=<http://publications.europa.eu/resource/authority/resource-type/REG_IMPL>||\\n  ?type=<http://publications.europa.eu/resource/authority/resource-type/REG_FINANC>||\\n  ?type=<http://publications.europa.eu/resource/authority/resource-type/REG_DEL>) OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \\\"true\\\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. } order by str(?date)\" elx_make_query(resource_type = \"any\", sector = 2) #> [1] \"PREFIX cdm: <http://publications.europa.eu/ontology/cdm#>\\n  PREFIX annot: <http://publications.europa.eu/ontology/annotation#>\\n  PREFIX skos:<http://www.w3.org/2004/02/skos/core#>\\n  PREFIX dc:<http://purl.org/dc/elements/1.1/>\\n  PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\\n  PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n  PREFIX owl:<http://www.w3.org/2002/07/owl#>\\n  select distinct ?work ?type ?celex where{\\n    ?work cdm:resource_legal_id_sector ?sector.\\n    FILTER(str(?sector)='2')\\n     \\n FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \\\"true\\\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }\" elx_make_query(resource_type = \"manual\", manual_type = \"SWD\") #> [1] \"PREFIX cdm: <http://publications.europa.eu/ontology/cdm#>\\n  PREFIX annot: <http://publications.europa.eu/ontology/annotation#>\\n  PREFIX skos:<http://www.w3.org/2004/02/skos/core#>\\n  PREFIX dc:<http://purl.org/dc/elements/1.1/>\\n  PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\\n  PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n  PREFIX owl:<http://www.w3.org/2002/07/owl#>\\n  select distinct ?work ?type ?celex where{ ?work cdm:work_has_resource-type ?type.FILTER(?type=<http://publications.europa.eu/resource/authority/resource-type/SWD>) \\n FILTER not exists{?work cdm:work_has_resource-type <http://publications.europa.eu/resource/authority/resource-type/CORRIGENDUM>} OPTIONAL{?work cdm:resource_legal_id_celex ?celex.} FILTER not exists{?work cdm:do_not_index \\\"true\\\"^^<http://www.w3.org/2001/XMLSchema#boolean>}. }\""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_run_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute SPARQL queries — elx_run_query","title":"Execute SPARQL queries — elx_run_query","text":"Executes cURL request pre-defined endpoint EU Publications Office. Relies elx_make_query generate valid SPARQL queries. Results capped 1 million rows.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_run_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute SPARQL queries — elx_run_query","text":"","code":"elx_run_query(   query = \"\",   endpoint = \"http://publications.europa.eu/webapi/rdf/sparql\" )"},{"path":"https://michalovadek.github.io/eurlex/reference/elx_run_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute SPARQL queries — elx_run_query","text":"query valid SPARQL query specified elx_make_query() manually endpoint SPARQL endpoint","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_run_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute SPARQL queries — elx_run_query","text":"data frame containing results SPARQL query. Column work contains Cellar URI resource.","code":""},{"path":"https://michalovadek.github.io/eurlex/reference/elx_run_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute SPARQL queries — elx_run_query","text":"","code":"# \\donttest{ elx_run_query(elx_make_query(\"directive\", include_force = TRUE, limit = 10)) #> # A tibble: 10 × 4 #>    work                                 type  celex      force #>    <chr>                                <chr> <chr>      <chr> #>  1 469391ea-6c79-4680-84aa-c33db274e271 DIR   31979L0173 false #>  2 e8fcaf0d-443a-40ec-b778-34b7d895d334 DIR   31989L0194 false #>  3 52639f5f-ecaf-4f99-b633-e954cea5c8f3 DIR   31984L0378 false #>  4 c7560407-689b-4752-9fb0-d0624ed83a19 DIR   31966L0683 true  #>  5 803aa7a4-5a22-493a-ae02-eb2751bff578 DIR   31993L0004 false #>  6 a9ab7f4b-0630-49f4-b6e1-2a92c635fefa DIR   31992L0017 false #>  7 d83c00d6-9467-4e42-ad8b-5fcf1af66850 DIR   31983L0447 false #>  8 311441f3-7879-4769-83c0-a6cb666d706f DIR   31966L0162 false #>  9 eebd7224-5f8b-4031-99dd-c81c720fa718 DIR   31974L0508 false #> 10 f2e14ae4-6baf-407d-a66f-438373370239 DIR   31982L0957 false # }"},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-9","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.9","text":"replaced dplyr, tidyr, stringr, purrr base R equivalents, reducing package dependencies removed rlang magrittr Imports","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-9","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.9","text":"elx_label_eurovoc() now returns data frame instead tibble documentation updates","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-048","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.8","title":"eurlex 0.4.8","text":"CRAN release: 2024-07-03","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-8","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.8","text":"Council votes API discontinued May 2024. function elx_council_votes() longer exported","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-8","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.8","text":"tempfile created XML download now gets deleted","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-047","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.7","title":"eurlex 0.4.7","text":"CRAN release: 2024-02-27","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-7","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.7","text":"http calls still failing gracefully leftover .data tidyselect","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-046","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.6","title":"eurlex 0.4.6","text":"CRAN release: 2023-09-08","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-6","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.6","text":"minor changes documentation cleaned http calls code calls elx_council_votes() elx_curia_list() now fail gracefully .data replaced quoted variables tidyselect functions Internet-using vignettes moved site-articles","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-045","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.5","title":"eurlex 0.4.5","text":"CRAN release: 2023-08-21","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-5","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.5","text":"breaking change: elx_run_query() now strips URIs (except Eurovoc ones) default keeps identifier reduce object size elx_fetch_data() used retrieve texts html document, now uses default rvest::html_text2() instead rvest::html_text(). slower resembling page renders cases. New argument html_text = \"text2\" controls setting. new feature: elx_make_query(..., include_court_origin = TRUE) retrieves country origin court case. per Eur-Lex documentation, primarily intended country national court referring preliminary question, countries present data well moment. Recommended interact court procedure new feature: elx_make_query(..., include_original_language = TRUE) retrieves authentic language document, typically court case","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-5","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.5","text":"new feature: elx_make_query(..., include_directory_code = TRUE) retrieves directory code document question rather label (can still retrieved using include_directory = TRUE). useful distinguish identical labels different directories","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-044","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.4","title":"eurlex 0.4.4","text":"CRAN release: 2022-11-20","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-4","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.4","text":"minor changes vignettes examples reduce build time stable connection elx_curia_list() fun CRAN policy compliance stuff","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-043","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.3","title":"eurlex 0.4.3","text":"CRAN release: 2022-11-07","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-3","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.3","text":"date variables retrieved elx_make_query(include_... = TRUE) now properly named new experimental feature: elx_make_query(include_citations_detailed = TRUE) retrieves additional details citation available; retrieval currently slow","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-3","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.3","text":"elx_make_query(include_directory = TRUE) now retrieves directory code instead URI minor clean internals vignette lightly touched ","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-042","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.2","title":"eurlex 0.4.2","text":"CRAN release: 2022-05-25","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-2","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.2","text":"new feature: elx_make_query(include_proposal = TRUE) retrieves CELEX proposal requested legal act returned results elx_make_query() longer include previous versions record (new versions typically fix incorrect missing metadata). reduces number duplicates previously appearing results","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.2","text":"elx_make_query(include_author = TRUE) now returns human-readable label (institutional authors) instead URI","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-041","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.1","title":"eurlex 0.4.1","text":"CRAN release: 2022-03-31","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-1","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.1","text":"elx_fetch_data(type = \"notice\", notice = c(\"tree\",\"branch\", \"object\")) now mirrors behaviour elx_download_xml() instead saving path gives access XML notice R retrieve data Judge-Rapporteur, Advocate-General, court formation court-curated scholarship using new include_ options elx_make_query()","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.1","text":"fixed bug elx_download_xml() parameter checking elx_download_xml(notice = \"object\") now retrieves metadata correctly","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-040","dir":"Changelog","previous_headings":"","what":"eurlex 0.4.0","title":"eurlex 0.4.0","text":"CRAN release: 2022-01-28","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.4.0","text":"download XML notices associated Cellar URLs elx_download_xml() retrieve European Case Law Identifier (ECLI) elx_make_query(include_ecli = TRUE)","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-4-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.4.0","text":"host smaller code improvements elx_fetch_data() consistent strict error generation across server-interacting functions started adding unit tests","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-036","dir":"Changelog","previous_headings":"","what":"eurlex 0.3.6","title":"eurlex 0.3.6","text":"CRAN release: 2021-07-27","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-3-6","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.3.6","text":"elx_run_query() now fails gracefully presence internet/server problems elx_fetch_data() now automatically fixes urls parentheses (e.g. “32019H1115(01)” used fail)","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-6","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.6","text":"minor fixes vignette elx_parse_xml longer exported function","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-035","dir":"Changelog","previous_headings":"","what":"eurlex 0.3.5","title":"eurlex 0.3.5","text":"CRAN release: 2021-03-14","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-3-5","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.3.5","text":"now possible select resource types available elx_make_query(resource_type = \"\"). Since nearly 1 million CELEX codes, use discretion expect long execution times results can restricted particular directory code elx_make_query(directory = \"18\") (directory code “18” denotes Common Foreign Security Policy) results can restricted particular sector elx_make_query(sector = 2) (sector code 2 denotes EU international agreements)","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-5","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.5","text":"new feature: request date court case submission elx_make_query(include_date_lodged = TRUE) new feature: request type court procedure outcome elx_make_query(include_court_procedure = TRUE) new feature: request directory code legal act elx_make_query(include_directory = TRUE) elx_curia_list() new default parameter parse = TRUE creates separate columns ecli, see_case, appeal applying regular expressions case_info","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-034","dir":"Changelog","previous_headings":"","what":"eurlex 0.3.4","title":"eurlex 0.3.4","text":"CRAN release: 2020-11-08","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-3-4","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.3.4","text":"new feature: request citations referenced target resource elx_make_query(include_citations = TRUE); retrieved CELEX form new feature: request document author(s) elx_make_query(include_author = TRUE) XML parsing now efficient due utilising (rather stripping) namespaces (still room improvement)","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-4","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.4","text":"fixed bug elx_label_eurovoc whereby resulting data frames contained list-columns","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-3","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.3","text":"hotfix critical bug xml parsing scrambled column legal basis requested","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-3-2","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.3.2","text":"improvement legal basis harvesting thanks help Eur-Lex insiders legal basis results now slightly comprehensive correct legal basis results now include new column detailing “suffix” (paragraph, subparagraph, etc.) string form","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.2","text":"minor updates documentation","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-031","dir":"Changelog","previous_headings":"","what":"eurlex 0.3.1","title":"eurlex 0.3.1","text":"CRAN release: 2020-09-11","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-3-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.3.1","text":"elx_fetch_data() now prefers CELEX-based URLs (instead Cellar URIs) input, appear yield fewer missing documents","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-3-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.3.0","text":"elx_fetch_data(\"text\") now retrieves plain text html, pdf MS Word documents type source file documented added handling multiple files: available text retrieved concatenated far support images requiring OCR text extraction sake limiting dependencies avoiding prolonging execution time","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-2-3","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.2.3","text":"fixed serious bugs elx_curia_list() fixed bug elx_label_eurovoc()","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-2-2","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.2.2","text":"elx_council_votes() made fully operational","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"eurlex-021","dir":"Changelog","previous_headings":"","what":"eurlex 0.2.1","title":"eurlex 0.2.1","text":"CRAN release: 2020-08-19","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-2-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.2.1","text":"optimization, reducing dependencies, etc.","code":""},{"path":[]},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"major-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Major changes","title":"eurlex 0.2.0","text":"addition proposals national implementing laws possible SPARQL queries EuroVoc topics, retrievable EU languages, can now included SPARQL results new date options (force, end validity, transposition) added elx_curia_list() retrieve full list EU court cases","code":""},{"path":"https://michalovadek.github.io/eurlex/news/index.html","id":"minor-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"eurlex 0.2.0","text":"switch XML xml2 SPARQL package dependency removed cascading language options elx_fetch_data()","code":""}]
